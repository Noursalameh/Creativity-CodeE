// Complete Arabic Translation System
// Place this in translations.js

const translations = {
    en: {
        nav: {
            home: "HOME",
            about: "ABOUT",
            projects: "PROJECTS",
            products: "PRODUCTS",
            gallery: "GALLERY",
            blogs: "BLOGS",
            langBtn: "AR"
        },
        hero: {
            badge: "WPC Solutions",
            title1: "Transforming Spaces",
            title2: "with Creative Precision",
            subtitle: "Expert Design, Exceptional Materials, and Sustainable Solutions for Modern Living",
            exploreBtn: "Explore Our Work",
            productsBtn: "View Products"
        },
        about: {
            title: "About Creativity Code",
            paragraph1: "At <strong>Creativity Code</strong>, we bring imagination to life. Based in Jordan, our team specializes in transforming spaces through creative design and the innovative use of <strong>WPC</strong> — a material that combines the warmth of wood with the durability of modern composites.",
            paragraph2: "We believe that great design is not only about aesthetics, but also about sustainability and functionality. With every project, we aim to create environments that inspire, comfort, and endure.",
            vision: {
                title: "Our Vision",
                text: "To lead the region in creative, sustainable design."
            },
            mission: {
                title: "Our Mission",
                text: "To redefine outdoor living through innovative WPC solutions"
            },
            values: {
                title: "Our Values",
                text: "• Creativity <br>• Quality <br>• Sustainability <br>• Integrity"
            },
            yearsLabel: "Years of<br>Excellence"
        },
        projects: {
            title: "Our Signature Projects",
            subtitle: "Each design tells a story of creativity, craftsmanship, and passion",
            pageTitle: "Each design tells a story of creativity, craftsmanship, and passion",
            // project1: "Luxury Outdoor Deck",
            // project2: "Contemporary Wall Cladding",
            // project3: "Garden Pergola Paradise",
            discoverBtn: "Discover More",
            // project1Desc: "Our luxury outdoor deck projects showcase the perfect blend of functionality and aesthetic appeal. Using premium WPC materials, we create durable, weather-resistant surfaces that maintain their beauty for years to come.",
            // project2Desc: "Transform interior and exterior walls with our contemporary cladding solutions. Each installation demonstrates our commitment to modern design principles while ensuring long-lasting performance.",
            // project3Desc: "Create stunning outdoor living spaces with our custom pergola designs. Combining traditional craftsmanship with innovative WPC materials for structures that are both beautiful and built to last."
        },
        products: {
            // title: "Featured Products",
            // subtitle: "Check out latest updates",
            // allProductsTitle: "Our Complete Product Range",
            // allProductsSubtitle: "Premium WPC solutions for every application",
            // exploreBtn: "Explore More",
            // deckingCladding: "Decking Cladding",
            // solidBar: "SOLID BAR",
            // column: "COLUMN",
            // deckingProfile: "Decking Profile",
            // wallCladding: "Wall Cladding",
            // fencePanel: "Fence Panel",
            // pergolaBeam: "Pergola Beam",
            // railingSystem: "Railing System",
            // trimFascia: "Trim & Fascia",
            // louverSystem: "Louver System",
            // customProfile: "Custom Profile",
            specs: {
                size: "Size:",
                density: "Density:",
                weight: "Weight:",
                length: "Length:"
            }
        },
        gallery: {
            title: "Our Gallery",
            subtitle: "Explore our premium WPC projects across different categories",
            all: "All",
            flooring: "Flooring",
            cladding: "Cladding",
            fences: "Fences",
            pergola: "Pergola",
            doors: "Doors",
            landscaping: "Landscaping"
        },
        why: {
            title: "Why Choose Our Products",
            card1Title: "Why you need to know about <STRONG>WPC</STRONG>?",
            card1Text: "<STRONG>WPC</STRONG> is an innovative eco-friendly material combining wood fibers and recycled plastic for exceptional durability and natural aesthetics.",
            card2Title: "Superior Performance",
            card2Text: "Our <STRONG>WPC</STRONG> products are UV-resistant, water-resistant, and termite-proof, making them ideal for both indoor and outdoor applications.",
            card3Title: "Sustainable Choice",
            card3Text: "<STRONG>WPC</STRONG> products are sustainable and help reduce deforestation while providing the beauty of natural wood with enhanced performance."
        },
        footer: {
            description: "Creativity Code includes specialists in interior/exterior design and innovation for the aesthetic use of wood composites.",
            productsTitle: "Our Products",
            interiorDesign: "Interior Design",
            exteriorDesign: "Exterior Design",
            lightingDesign: "Lighting Design",
            officeDesign: "Office Design",
            servicesTitle: "Our Services",
            consultation: "Consultation",
            design: "Design",
            pricing: "Pricing",
            pressInquiries: "Press Inquiries",
            contactTitle: "Contact",
            address: "Abdulaziz garment, 5th floor<br>St. 90, Amman, Jordan"
        }
    },
    ar: {
        nav: {
            home: "الرئيسية",
            about: "من نحن",
            projects: "المشاريع",
            products: "المنتجات",
            gallery: "المعرض",
            blogs: "المقالات",
            langBtn: "EN"
        },
        hero: {
            badge: "حلول WPC",
            title1: "تحويل المساحات",
            title2: "بدقة إبداعية",
            subtitle: "تصميم خبير ومواد استثنائية وحلول مستدامة للحياة العصرية",
            exploreBtn: "استكشف أعمالنا",
            productsBtn: "عرض المنتجات"
        },
        about: {
            title: "عن كريتيفيتي كود",
            paragraph1: "في <strong>كريتيفيتي كود</strong>، نحن نحول الخيال إلى واقع. يقع مقرنا في الأردن، ويتخصص فريقنا في تحويل المساحات من خلال التصميم الإبداعي والاستخدام المبتكر لـ <strong>WPC</strong> - مادة تجمع بين دفء الخشب ومتانة المواد المركبة الحديثة.",
            paragraph2: "نحن نؤمن بأن التصميم الرائع لا يتعلق فقط بالجماليات، بل أيضًا بالاستدامة والوظيفة. مع كل مشروع، نهدف إلى إنشاء بيئات تلهم وتريح وتدوم.",
            vision: {
                title: "رؤيتنا",
                text: "أن نقود المنطقة في التصميم الإبداعي المستدام."
            },
            mission: {
                title: "مهمتنا",
                text: "إعادة تعريف الحياة الخارجية من خلال حلول WPC المبتكرة"
            },
            values: {
                title: "قيمنا",
                text: "• الإبداع <br>• الجودة <br>• الاستدامة <br>• النزاهة"
            },
            yearsLabel: "سنوات من<br>التميز"
        },
        projects: {
            title: "مشاريعنا المميزة",
            subtitle: "كل تصميم يروي قصة من الإبداع والحرفية والشغف",
            pageTitle: "كل تصميم يروي قصة من الإبداع والحرفية والشغف",
            project1: "سطح خارجي فاخر",
            project2: "كسوة جدران عصرية",
            project3: "جنة البرجولا الحديقة",
            discoverBtn: "اكتشف المزيد",
            project1Desc: "تُظهر مشاريع السطح الخارجي الفاخرة لدينا المزيج المثالي من الوظيفة والجاذبية الجمالية. باستخدام مواد WPC المتميزة، نقوم بإنشاء أسطح متينة ومقاومة للعوامل الجوية تحافظ على جمالها لسنوات قادمة.",
            project2Desc: "حوّل الجدران الداخلية والخارجية بحلول الكسوة العصرية الخاصة بنا. يُظهر كل تركيب التزامنا بمبادئ التصميم الحديث مع ضمان الأداء طويل الأمد.",
            project3Desc: "أنشئ مساحات معيشة خارجية مذهلة بتصاميم البرجولا المخصصة لدينا. الجمع بين الحرفية التقليدية ومواد WPC المبتكرة للهياكل الجميلة والمبنية لتدوم."
        },
        products: {
            title: "المنتجات المميزة",
            subtitle: "تحقق من آخر التحديثات",
            allProductsTitle: "مجموعة منتجاتنا الكاملة",
            allProductsSubtitle: "حلول WPC متميزة لكل تطبيق",
            exploreBtn: "استكشف المزيد",
            deckingCladding: "كسوة الأرضيات",
            solidBar: "قضيب صلب",
            column: "عمود",
            deckingProfile: "بروفيل الأرضيات",
            wallCladding: "كسوة الجدران",
            fencePanel: "لوحة سياج",
            pergolaBeam: "عارضة برجولا",
            railingSystem: "نظام الدرابزين",
            trimFascia: "تشطيب وواجهة",
            louverSystem: "نظام الشرائح",
            customProfile: "بروفيل مخصص",
            specs: {
                size: "الحجم:",
                density: "الكثافة:",
                weight: "الوزن:",
                length: "الطول:"
            }
        },
        gallery: {
            title: "معرضنا",
            subtitle: "استكشف مشاريع WPC المتميزة عبر فئات مختلفة",
            all: "الكل",
            flooring: "الأرضيات",
            cladding: "الكسوة",
            fences: "الأسوار",
            pergola: "البرجولا",
            doors: "الأبواب",
            landscaping: "تنسيق الحدائق"
        },
        why: {
            title: "لماذا تختار منتجاتنا",
            card1Title: "لماذا تحتاج إلى معرفة <STRONG>WPC</STRONG>؟",
            card1Text: "<STRONG>WPC</STRONG> هي مادة مبتكرة وصديقة للبيئة تجمع بين ألياف الخشب والبلاستيك المعاد تدويره للحصول على متانة استثنائية وجماليات طبيعية.",
            card2Title: "أداء متفوق",
            card2Text: "منتجات <STRONG>WPC</STRONG> الخاصة بنا مقاومة للأشعة فوق البنفسجية والماء والنمل الأبيض، مما يجعلها مثالية للتطبيقات الداخلية والخارجية.",
            card3Title: "اختيار مستدام",
            card3Text: "منتجات <STRONG>WPC</STRONG> مستدامة وتساعد في تقليل إزالة الغابات مع توفير جمال الخشب الطبيعي مع أداء محسّن."
        },
        footer: {
            description: "كريتيفيتي كود تضم متخصصين في التصميم الداخلي/الخارجي والابتكار للاستخدام الجمالي للمركبات الخشبية.",
            productsTitle: "منتجاتنا",
            interiorDesign: "التصميم الداخلي",
            exteriorDesign: "التصميم الخارجي",
            lightingDesign: "تصميم الإضاءة",
            officeDesign: "تصميم المكاتب",
            servicesTitle: "خدماتنا",
            consultation: "استشارة",
            design: "تصميم",
            pricing: "التسعير",
            pressInquiries: "استفسارات صحفية",
            contactTitle: "اتصل بنا",
            address: "عبد العزيز للألبسة، الطابق الخامس<br>شارع 90، عمان، الأردن"
        }
    }
};

// Language Manager Class
class LanguageManager {
    constructor() {
        this.currentLang = localStorage.getItem('language') || 'en';
        this.init();
    }
    
    init() {
        this.applyLanguage(this.currentLang);
        
        const langBtn = document.querySelector('.lang-btn');
        if (langBtn) {
            langBtn.addEventListener('click', () => this.toggleLanguage());
        }
    }
    
    toggleLanguage() {
        this.currentLang = this.currentLang === 'en' ? 'ar' : 'en';
        localStorage.setItem('language', this.currentLang);
        this.applyLanguage(this.currentLang);
    }
    
    applyLanguage(lang) {
        const t = translations[lang];
        const html = document.documentElement;
        const body = document.body;
        
        if (lang === 'ar') {
            html.setAttribute('dir', 'rtl');
            html.setAttribute('lang', 'ar');
            body.classList.add('rtl');
        } else {
            html.setAttribute('dir', 'ltr');
            html.setAttribute('lang', 'en');
            body.classList.remove('rtl');
        }
        
        this.updateAllContent(t);
        this.updateDynamicElements(); // Add support for data-ar/data-en elements
    }
    
    updateAllContent(t) {
        this.updateNavigation(t);
        this.updateHeroSection(t);
        this.updateAboutSection(t);
        this.updateProjectsSection(t);
        this.updateProductsSection(t);
        this.updateGallerySection(t);
        this.updateWhySection(t);
        this.updateFooter(t);
    }
    
    // NEW: Handle elements with data-ar and data-en attributes
    updateDynamicElements() {
        const isArabic = this.currentLang === 'ar';
        document.querySelectorAll('.trans').forEach(el => {
            if (isArabic && el.hasAttribute('data-ar')) {
                el.textContent = el.getAttribute('data-ar');
            } else if (el.hasAttribute('data-en')) {
                el.textContent = el.getAttribute('data-en');
            }
        });
    }
    
    updateNavigation(t) {
        const navMap = {
            'nav-home': t.nav.home,
            'nav-about': t.nav.about,
            'nav-project': t.nav.projects,
            'nav-products': t.nav.products,
            'nav-gallery': t.nav.gallery,
            'nav-blogs': t.nav.blogs
        };
        
        Object.entries(navMap).forEach(([id, text]) => {
            const el = document.getElementById(id);
            if (el) el.textContent = text;
        });
        
        const langBtn = document.querySelector('.lang-btn');
        if (langBtn) langBtn.textContent = t.nav.langBtn;
    }
    
    updateHeroSection(t) {
        const updates = [
            ['.hero-badge', t.hero.badge],
            ['.hero-title .title-line:first-child', t.hero.title1],
            ['.hero-title .title-line.highlight', t.hero.title2],
            ['.hero-subtitle', t.hero.subtitle],
            ['.cta-btn-primary span', t.hero.exploreBtn],
            ['.cta-btn-secondary', t.hero.productsBtn]
        ];
        
        updates.forEach(([selector, text]) => {
            const el = document.querySelector(selector);
            if (el) el.textContent = text;
        });
    }
    
    updateAboutSection(t) {
        const aboutTitle = document.querySelector('.about-content h2');
        const aboutParas = document.querySelectorAll('.about-content > p');
        const badgeSpan = document.querySelector('.about-badge span');
        
        if (aboutTitle) aboutTitle.textContent = t.about.title;
        if (aboutParas[0]) aboutParas[0].innerHTML = t.about.paragraph1;
        if (aboutParas[1]) aboutParas[1].textContent = t.about.paragraph2;
        if (badgeSpan) badgeSpan.innerHTML = t.about.yearsLabel;
        
        const columns = document.querySelectorAll('.about-column');
        const columnData = [
            [t.about.vision.title, t.about.vision.text],
            [t.about.mission.title, t.about.mission.text],
            [t.about.values.title, t.about.values.text]
        ];
        
        columns.forEach((col, i) => {
            if (columnData[i]) {
                const h4 = col.querySelector('h4');
                const p = col.querySelector('p');
                if (h4) h4.textContent = columnData[i][0];
                if (p) p.innerHTML = columnData[i][1];
            }
        });
    }
    
    updateProjectsSection(t) {
        const sections = [
            ['.projects-section .section-header h2', t.projects.title],
            ['.projects-section .section-header p', t.projects.subtitle],
            ['.projects-section .cta-btn', t.projects.discoverBtn]
        ];
        
        sections.forEach(([selector, text]) => {
            const el = document.querySelector(selector);
            if (el) el.textContent = text;
        });
        
        const labels = document.querySelectorAll('.project-label');
        const labelTexts = [t.projects.project1, t.projects.project2, t.projects.project3];
        labels.forEach((label, i) => {
            if (labelTexts[i]) label.textContent = labelTexts[i];
        });
        
        // Project page
        const pageTitle = document.querySelector('#project-page .project-detail h2');
        if (pageTitle) pageTitle.textContent = t.projects.pageTitle;
        
        const projectTitles = document.querySelectorAll('.project-detail h3');
        const projectDescs = document.querySelectorAll('.project-detail > p');
        const projectData = [
            [t.projects.project1, t.projects.project1Desc],
            [t.projects.project2, t.projects.project2Desc],
            [t.projects.project3, t.projects.project3Desc]
        ];
        
        projectData.forEach((data, i) => {
            if (projectTitles[i]) projectTitles[i].textContent = data[0];
            if (projectDescs[i]) projectDescs[i].textContent = data[1];
        });
    }
    
    updateProductsSection(t) {
        const featured = document.querySelector('.products-section .section-header');
        if (featured) {
            const h2 = featured.querySelector('h2');
            const p = featured.querySelector('p');
            if (h2) h2.textContent = t.products.title;
            if (p) p.textContent = t.products.subtitle;
        }
        
        const exploreBtn = document.querySelector('.products-section .cta-btn');
        if (exploreBtn) exploreBtn.textContent = t.products.exploreBtn;
        
        const allProducts = document.querySelector('#products-page .section-header');
        if (allProducts) {
            const h2 = allProducts.querySelector('h2');
            const p = allProducts.querySelector('p');
            if (h2) h2.textContent = t.products.allProductsTitle;
            if (p) p.textContent = t.products.allProductsSubtitle;
        }
        
        const productNames = [
            t.products.deckingCladding, t.products.solidBar, t.products.column,
            t.products.deckingProfile, t.products.wallCladding, t.products.fencePanel,
            t.products.pergolaBeam, t.products.railingSystem, t.products.trimFascia,
            t.products.louverSystem, t.products.customProfile
        ];
        
        document.querySelectorAll('.product-card').forEach((card, i) => {
            const name = card.querySelector('h3');
            if (name && productNames[i]) name.textContent = productNames[i];
            
            const specs = card.querySelectorAll('.product-specs p');
            if (specs.length >= 4) {
                const getValue = (spec) => spec.innerHTML.split(':')[1] || '';
                specs[0].innerHTML = `<strong>${t.products.specs.size}</strong> ${getValue(specs[0])}`;
                if (specs[1]) specs[1].innerHTML = `<strong>${t.products.specs.density}</strong> ${getValue(specs[1])}`;
                if (specs[2]) specs[2].innerHTML = `<strong>${t.products.specs.weight}</strong> ${getValue(specs[2])}`;
                if (specs[3]) specs[3].innerHTML = `<strong>${t.products.specs.length}</strong> ${getValue(specs[3])}`;
            }
        });
    }
    
    updateGallerySection(t) {
        const headers = [
            ['.gallery-preview-section .section-header', t.gallery.title, t.gallery.subtitle],
            ['#gallery-page .gallery-header', t.gallery.title, t.gallery.subtitle]
        ];
        
        headers.forEach(([selector, title, subtitle]) => {
            const header = document.querySelector(selector);
            if (header) {
                const h2 = header.querySelector('h2');
                const p = header.querySelector('p');
                if (h2) h2.textContent = title;
                if (p) p.textContent = subtitle;
            }
        });
        
        const filterCategories = [
            t.gallery.all, t.gallery.flooring, t.gallery.cladding,
            t.gallery.fences, t.gallery.pergola, t.gallery.doors, t.gallery.landscaping
        ];
        
        document.querySelectorAll('.filter-btn, .preview-filter-btn').forEach((btn, i) => {
            if (filterCategories[i]) btn.textContent = filterCategories[i];
        });
        
        document.querySelectorAll('.gallery-category, .gallery-preview-category').forEach(label => {
            const category = label.closest('[data-category]')?.dataset.category;
            if (category && t.gallery[category]) {
                label.textContent = t.gallery[category];
            }
        });
    }
    
    updateWhySection(t) {
        const whyTitle = document.querySelector('.why-section .section-header h2');
        if (whyTitle) whyTitle.textContent = t.why.title;
        
        const cards = document.querySelectorAll('.why-card');
        const cardData = [
            [t.why.card1Title, t.why.card1Text],
            [t.why.card2Title, t.why.card2Text],
            [t.why.card3Title, t.why.card3Text]
        ];
        
        cards.forEach((card, i) => {
            if (cardData[i]) {
                const h3 = card.querySelector('h3');
                const p = card.querySelector('p');
                if (h3) h3.innerHTML = cardData[i][0];
                if (p) p.innerHTML = cardData[i][1];
            }
        });
    }
    
    updateFooter(t) {
        const sections = document.querySelectorAll('.footer-section');
        
        if (sections[0]) {
            const desc = sections[0].querySelector('p');
            if (desc) desc.textContent = t.footer.description;
        }
        
        if (sections[1]) {
            const h3 = sections[1].querySelector('h3');
            if (h3) h3.textContent = t.footer.productsTitle;
            const links = sections[1].querySelectorAll('li a');
            const texts = [t.footer.interiorDesign, t.footer.exteriorDesign, 
                          t.footer.lightingDesign, t.footer.officeDesign];
            links.forEach((link, i) => {
                if (texts[i]) link.textContent = texts[i];
            });
        }
        
        if (sections[2]) {
            const h3 = sections[2].querySelector('h3');
            if (h3) h3.textContent = t.footer.servicesTitle;
            const links = sections[2].querySelectorAll('li a');
            const texts = [t.footer.consultation, t.footer.design, 
                          t.footer.pricing, t.footer.pressInquiries];
            links.forEach((link, i) => {
                if (texts[i]) link.textContent = texts[i];
            });
        }
        
        if (sections[3]) {
            const h3 = sections[3].querySelector('h3');
            if (h3) h3.textContent = t.footer.contactTitle;
            const paras = sections[3].querySelectorAll('p');
            if (paras[1]) paras[1].innerHTML = t.footer.address;
        }
    }
}

// Initialize on page load
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => {
        window.languageManager = new LanguageManager();
    });
} else {
    window.languageManager = new LanguageManager();
}